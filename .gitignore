import telegram
from telegram.ext import Updater, CommandHandler, JobQueue
import requests

# ØªÙˆÙƒÙ† Ø§Ù„Ø¨ÙˆØª
TOKEN = "8588157408:AAH2LSUZRj5Rpv6drs7OcFIlQn-kPvc_MuA"

# ÙŠÙˆØ²Ø± Ø§Ù„Ù‚Ù†Ø§Ø© Ù…Ø§Ù„ØªÙƒ
CHAT_ID = "@JineGamer"

updater = Updater(TOKEN, use_context=True)
dp = updater.dispatcher
jq = updater.job_queue

# Ø£Ù…Ø± /start
def start(update, context):
    update.message.reply_text("Ù‡Ù„Ø§ Ø¹Ø«Ùˆ ğŸ™Œ Ø§Ù„Ø¨ÙˆØª Ø´ØºØ§Ù„ ÙˆØ¬Ø§Ù‡Ø² Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ø§Ù„Ø°Ù‡Ø¨ ğŸ””")

# Ø£Ù…Ø± /gold â€“ ÙŠØ±Ø¬Ø¹ Ø³Ø¹Ø± Ø§Ù„Ø°Ù‡Ø¨ Ø§Ù„Ø­Ø§Ù„ÙŠ (Ù…Ø¤Ù‚Øª)
def gold(update, context):
    price = "195,200 IQD/g"  # Ù„Ø§Ø­Ù‚Ø§Ù‹ Ù†Ø±Ø¨Ø·Ù‡ Ø¨Ø³Ø¹Ø± Ù…Ø¨Ø§Ø´Ø±
    update.message.reply_text(f"Ø³Ø¹Ø± Ø§Ù„Ø°Ù‡Ø¨ Ø§Ù„Ø¢Ù†: {price}")

# Ø¥Ø±Ø³Ø§Ù„ Ø¥Ø´Ø§Ø±Ø© ØªÙ„Ù‚Ø§Ø¦ÙŠØ© ÙƒÙ„ ÙØªØ±Ø©
def signal_job(context):
    context.bot.send_message(
        chat_id=CHAT_ID,
        text="Ø¥Ø´Ø§Ø±Ø© Ø´Ø±Ø§Ø¡ Ø§Ù„Ø°Ù‡Ø¨ ğŸ’°\nØ§Ù„ØªØ­Ù„ÙŠÙ„: EMA + RSI"
    )

# Ø±Ø¨Ø· Ø§Ù„Ø£ÙˆØ§Ù…Ø±
dp.add_handler(CommandHandler("start", start))
dp.add_handler(CommandHandler("gold", gold))

# ØªØ´ØºÙŠÙ„ Ø§Ù„Ø¥Ø´Ø§Ø±Ø§Øª ÙƒÙ„ 30 Ø¯Ù‚ÙŠÙ‚Ø©
jq.run_repeating(signal_job, interval=1800, first=10)

# Ø¨Ø¯Ø¡ Ø§Ù„Ø¨ÙˆØª
updater.start_polling()
updater.idle()
